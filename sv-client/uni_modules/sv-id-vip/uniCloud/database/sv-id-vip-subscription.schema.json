// 文档教程: https://uniapp.dcloud.net.cn/uniCloud/schema
{
  "bsonType": "object",
  "required": ["user_id", "plans_id", "end_date"],
  "permission": {
    "read": true,
    "create": true,
    "update": true,
    "delete": false
  },
  "properties": {
    "_id": {
      "description": "ID，系统自动生成"
    },
    "user_id": {
      "bsonType": "string",
      "foreignKey": "uni-id-users._id",
      "description": "用户id，参考uni-id-users表"
    },
    "plans_id": {
      "bsonType": "array",
      "description": "当前所生效的所有订阅的套餐id，参考sv-id-vip-plans表，{start_date, plan}"
    },
    "end_date": {
      "bsonType": "timestamp",
      "description": "订阅累计结束日期"
    },
    "record": {
      "bsonType": "array",
      "description": "订阅记录，用户所订阅的所有套餐记录，{start_date, plan}"
    }
  }
}