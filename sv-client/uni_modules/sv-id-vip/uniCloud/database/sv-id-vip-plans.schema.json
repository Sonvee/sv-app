// 文档教程: https://uniapp.dcloud.net.cn/uniCloud/schema
{
  "bsonType": "object",
  "required": ["plan_name", "price", "validtime"],
  "permission": {
    "read": true,
    "create": "'VIP_PLANS' in auth.permission",
    "update": "'VIP_PLANS' in auth.permission",
    "delete": "'VIP_PLANS' in auth.permission"
  },
  "properties": {
    "_id": {
      "description": "ID，系统自动生成"
    },
    "plan_name": {
      "bsonType": "string",
      "description": "套餐名称"
    },
    "description": {
      "bsonType": "string",
      "description": "套餐描述"
    },
    "price": {
      "bsonType": "double",
      "description": "套餐价格"
    },
    "discount": {
      "bsonType": "double",
      "description": "套餐折扣"
    },
    "valid_month": {
      "bsonType": "int",
      "description": "套餐有效期(月数)",
      "defaultValue": 1
    },
    "benefits": {
      "bsonType": "object",
      "description": "套餐包含的权益",
      "properties": {
        "no_ad": {
          "bsonType": "bool",
          "description": "关闭广告"
        },
        "coupon": {
          "bsonType": "object",
          "description": "优惠券",
          "properties": {
            "free": {
              "bsonType": "int",
              "description": "免费券(0.01元购买商品)数量"
            },
            "half": {
              "bsonType": "int",
              "description": "半价券(5折购买商品)数量"
            }
          }
        }
      }
    }
  }
}